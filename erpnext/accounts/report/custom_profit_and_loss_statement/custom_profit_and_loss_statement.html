{%
    var report_columns = report.get_columns_for_print();
    report_columns = report_columns.filter(col => !col.hidden);

    if (report_columns.length > 8) {
        frappe.throw(__("Too many columns. Export the report and print it using a spreadsheet application."));
    }
%}

<style>
    .financial-statements-important td {
        font-weight: bold;
    }

    .financial-statements-blank-row td {
        height: 37px;
    }
    .header {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    .header-left {
        position: absolute;
        left: 0;
    }
    .header-center {
        text-align: center;
    }
    .header img {
        max-height: 120px; /* Adjust the height as needed */
    }
</style>

<div class="header">
    <div class="header-left">
        <img src="/assets/erpnext/images/SL.png" alt="Company Logo">
    </div>
    <div class="header-center">
        <h2>{%= filters.company %}</h3>
        <h3>{%= __(report.report_name) %}</h2>
    </div>
</div>

{% if 'cost_center' in filters %}
    <h3 class="text-center">Period {%= filters.period_start_date + " - " + filters.period_end_date %}</h3>
{% endif %}

<h3 class="text-center">{%= filters.fiscal_year %}</h3>
<!-- <h5 class="text-center">
    {%=  __("Currency") %} : {%= filters.presentation_currency || erpnext.get_currency(filters.company) %}
</h5> -->
{% if (filters.from_date) { %}
    <h5 class="text-center">
        {%= frappe.datetime.str_to_user(filters.from_date) %} - {%= frappe.datetime.str_to_user(filters.to_date) %}
    </h5>
{% } %}
<hr>
<table class="table table-bordered">
    <thead>
        <tr>
            <th style="width: {%= 100 - (report_columns.length - 1) * 13 %}%"></th>
            {% for (let i=1, l=report_columns.length; i<l; i++) { %}
                <th class="text-right">{%= report_columns[i].label %}</th>
            {% } %}
        </tr>
    </thead>
    <tbody>
        {% for(let j=0, k=data.length; j<k; j++) { %}
            {%
                var row = data[j];
                var row_class = data[j].parent_account ? "" : "financial-statements-important";
                row_class += data[j].account_name ? "" : " financial-statements-blank-row";
            %}
            <tr class="{%= row_class %}">
                <td>
                    <span style="padding-left: {%= cint(data[j].indent) * 2 %}em">{%= row.account_name %}</span>
                </td>
                {% for(let i=1, l=report_columns.length; i<l; i++) { %}
                    <td class="text-right">
                        {% const fieldname = report_columns[i].fieldname; %}
                        {% if (!is_null(row[fieldname])) { %}
                            {%= frappe.format(row[fieldname], report_columns[i], {}, row) %}
                        {% } %}
                    </td>
                {% } %}
            </tr>
        {% } %}
    </tbody>
</table>
<p class="text-right text-muted">
    Printed On {%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}
</p>
